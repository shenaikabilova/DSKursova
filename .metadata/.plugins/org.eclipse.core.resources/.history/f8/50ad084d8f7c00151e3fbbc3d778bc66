import java.util.List;

import javax.swing.table.AbstractTableModel;

/**
 * 
 */

/**
 * @author shenaikabilova
 *
 */
public class TableModel extends AbstractTableModel {
	private Object[][] tableVehicles;
	private Object[][] tableDrivers;
	private String[] columnNameVehicles = {"TYPE_VEHICLE", "REGISTRATION_NUMBER", "YEAR_VEHICLE", "COLOR", "NUMBER_PLACES", "KM", 
			   					   "REPAIR_COUNT", "LAST_REPAIR", "LICENSE"};
	private String[] columnNameDrivers = {"DRIVER_FIRST_NAME", "DRIVER_LAST_NAME", "DRIVER_LICENSE", "DRIVER_ID"};
	
	public TableModel (VehicleDAO dao) {
		List<Vehicles> vehicles = dao.listVehicles();
			
		tableVehicles = new Object[vehicles.size()][columnNameVehicles.length];
		
		int i=0;
		for (Vehicles vehicle : vehicles) {
			tableVehicles[i][0] = vehicle.getTypeVehicle();
			tableVehicles[i][1] = vehicle.getRegistrationNumber();
			tableVehicles[i][2] = vehicle.getYearVehicle();
			tableVehicles[i][3] = vehicle.getColor();
			tableVehicles[i][4] = vehicle.getNumerOfPlaces();
			tableVehicles[i][5] = vehicle.getKm();
			tableVehicles[i][6] = vehicle.getRepairCount();
			tableVehicles[i][7] = vehicle.getLastRerair();
			tableVehicles[i][8] = vehicle.getDriverLicense();
			
			i++;
		}
	}
	
	public TableModel (DriverDAO dao) {
		List<Drivers> drivers = dao.listDrivers();
		
		tableDrivers = new Object[drivers.size()][columnNameDrivers.length];
		
		int i=0;
		for (Drivers driver : drivers) {
			tableDrivers[i][0] = driver.getDriverFirstName();
			tableDrivers[i][1] = driver.getDriverLastName();
			tableDrivers[i][2] = driver.getDriverLicense();
			tableDrivers[i][3] = driver.getDriverID();
			
			i++;
		}
	}


	public int getColumnCountVehicles() {
		return columnNameVehicles.length;
	}
	
	public int getColumnCountDrivers() {
		return columnNameDrivers.length;
	}

	public int getRowCountVehicles() {
		return table.length;
	}

	public Object getValueAt(int arg0, int arg1) {
		return table[arg0][arg1];
	}
	
	public String getColumnNameVehicles (int columnInex) {
		return columnNameVehicles[columnInex];
	}
	
	public String getColumnNameDrivers (int columnIndex) {
		return columnNameDrivers[columnIndex];
	}
}